
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Immigration Visualization Test</title>
            <style>
                /* P3IF Visualization Portal Styles */
                body {
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                    background-color: #f8f9fa;
                }
                
                header {
                    background-color: #343a40;
                    color: white;
                    padding: 1rem 0;
                }
                
                main {
                    padding: 2rem 0;
                    min-height: 80vh;
                }
                
                nav {
                    margin-bottom: 1.5rem;
                }
                
                .navbar-brand {
                    font-weight: bold;
                }
                
                .card {
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                    margin-bottom: 20px;
                    border-radius: 8px;
                    overflow: hidden;
                }
                
                .card-header {
                    background-color: #f1f5f9;
                    padding: 15px 20px;
                }
                
                .card-header h3, .card-header h4 {
                    margin: 0;
                    color: #333;
                }
                
                .viz-container {
                    background-color: #fff;
                    border-radius: 8px;
                    padding: 20px;
                    margin-bottom: 20px;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                }
                
                /* Dashboard styles */
                .stat-card {
                    border-radius: 8px;
                    padding: 20px;
                    margin-bottom: 15px;
                    background-color: #fff;
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                    display: flex;
                    align-items: center;
                }
                
                .stat-icon {
                    width: 60px;
                    height: 60px;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    margin-right: 15px;
                    flex-shrink: 0;
                }
                
                .stat-icon i {
                    font-size: 24px;
                    color: white;
                }
                
                .stat-info {
                    flex-grow: 1;
                }
                
                .stat-value {
                    font-size: 24px;
                    font-weight: bold;
                    margin: 0;
                    line-height: 1.2;
                }
                
                .stat-label {
                    color: #6c757d;
                    margin: 0;
                }
                
                /* Matrix visualization styles */
                .matrix-container {
                    overflow: auto;
                    max-height: 600px;
                }
                
                /* Footer styles */
                footer {
                    margin-top: 30px;
                }
                
                /* Component selector styles */
                .component-selector {
                    margin-bottom: 20px;
                }
                
                /* Dataset selector styles */
                #dataset-selector {
                    margin-bottom: 20px;
                    padding: 10px;
                    background-color: #f0f0f0;
                    border-radius: 5px;
                }
                
                /* Responsive containers */
                .responsive-container {
                    width: 100%;
                    padding: 15px;
                }
                
                @media (max-width: 768px) {
                    .responsive-container {
                        flex-direction: column;
                    }
                    
                    .col-md-6 {
                        width: 100%;
                    }
                    
                    .col-md-4 {
                        width: 100%;
                    }
                    
                    .col-md-8 {
                        width: 100%;
                    }
                }
            </style>
            <link rel="stylesheet" href="assets/css/styles.css">
            <!-- Bootstrap CSS -->
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
            <!-- Font Awesome -->
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        </head>
        <body>
            <div class="container-fluid">
                <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                    <div class="container-fluid">
                        <a class="navbar-brand" href="#">Immigration Visualization Test</a>
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarNav">
                            <ul class="navbar-nav">
                                <li class="nav-item">
                                    <a class="nav-link active" data-bs-toggle="tab" href="#dashboard">Dashboard</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-bs-toggle="tab" href="#cube">3D Cube</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-bs-toggle="tab" href="#network">Network</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-bs-toggle="tab" href="#matrix">Matrices</a>
                                </li>
        
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" id="domainDropdown" role="button" data-bs-toggle="dropdown">
                                        Domains
                                    </a>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" data-bs-toggle="tab" href="#domains-all">All Domains</a></li>
                                        <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item domain-tab" data-bs-toggle="tab" href="#domain-immigration">Immigration</a></li>
                                    </ul>
                                </li>
            
                            </ul>
                        </div>
                    </div>
                </nav>
            
        
                <div class="tab-content p-3">
                    <!-- Dashboard Tab -->
                    <div class="tab-pane fade show active" id="dashboard">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="card mb-4">
                                    <div class="card-header">
                                        <h3>P3IF Framework Overview</h3>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-md-8">
                                                <div id="main-viz-container" style="height: 500px;">
                                                    <iframe src="visualizations/3d-cube.html" width="100%" height="100%" frameborder="0"></iframe>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="card mb-3">
                                                    <div class="card-header">Summary Statistics</div>
                                                    <div class="card-body">
                                                        <div id="summary-stats"></div>
                                                    </div>
                                                </div>
                                                <div class="card">
                                                    <div class="card-header">Quick Navigation</div>
                                                    <div class="card-body">
                                                        <div class="d-grid gap-2">
                                                            <button class="btn btn-primary" onclick="document.querySelector('[href=\'#cube\']').click()">
                                                                <i class="fas fa-cube"></i> 3D Cube View
                                                            </button>
                                                            <button class="btn btn-info" onclick="document.querySelector('[href=\'#network\']').click()">
                                                                <i class="fas fa-project-diagram"></i> Network View
                                                            </button>
                                                            <button class="btn btn-secondary" onclick="document.querySelector('[href=\'#matrix\']').click()">
                                                                <i class="fas fa-th"></i> Matrix View
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="card mb-4">
                                            <div class="card-header">
                                                <h4>Pattern Distribution</h4>
                                            </div>
                                            <div class="card-body">
                                                <div id="pattern-distribution-chart" style="height: 300px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="card mb-4">
                                            <div class="card-header">
                                                <h4>Domain Overview</h4>
                                            </div>
                                            <div class="card-body">
                                                <div id="domain-overview-chart" style="height: 300px;"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
        
                    <!-- 3D Cube Tab -->
                    <div class="tab-pane fade" id="cube">
                        <div class="card">
                            <div class="card-header">
                                <h3>3D Cube Visualization</h3>
                                <p class="text-muted">Explore the relationships between Properties, Processes, and Perspectives in 3D space</p>
                            </div>
                            <div class="card-body p-0">
                                <div id="3d-cube-container" style="height: 800px;">
                                    <iframe src="visualizations/3d-cube.html" width="100%" height="100%" frameborder="0"></iframe>
                                </div>
                            </div>
                        </div>
                    </div>
            
                    <!-- Network Tab -->
                    <div class="tab-pane fade" id="network">
                        <div class="card">
                            <div class="card-header">
                                <h3>Network Visualization</h3>
                                <p class="text-muted">Explore the relationships between patterns as a force-directed graph</p>
                            </div>
                            <div class="card-body p-0">
                                <div id="network-container" style="height: 800px;">
                                    <iframe src="visualizations/force-graph.html" width="100%" height="100%" frameborder="0"></iframe>
                                </div>
                            </div>
                        </div>
                    </div>
            
                    <!-- Matrix Tab -->
                    <div class="tab-pane fade" id="matrix">
                        <div class="card mb-4">
                            <div class="card-header">
                                <h3>Matrix Visualizations</h3>
                                <p class="text-muted">Explore relationships between pattern types using matrix visualizations</p>
                            </div>
                            <div class="card-body">
                                <ul class="nav nav-tabs" id="matrixTabs" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active" id="property-process-tab" data-bs-toggle="tab" 
                                                data-bs-target="#property-process" type="button" role="tab">
                                            Property × Process
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="property-perspective-tab" data-bs-toggle="tab" 
                                                data-bs-target="#property-perspective" type="button" role="tab">
                                            Property × Perspective
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="process-perspective-tab" data-bs-toggle="tab" 
                                                data-bs-target="#process-perspective" type="button" role="tab">
                                            Process × Perspective
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link" id="similarity-tab" data-bs-toggle="tab" 
                                                data-bs-target="#similarity" type="button" role="tab">
                                            Domain Similarity
                                        </button>
                                    </li>
                                </ul>
                                <div class="tab-content p-3" id="matrixTabsContent">
                                    <div class="tab-pane fade show active" id="property-process" role="tabpanel">
                                        <div class="text-center">
                                            <h4>Property × Process Relationship Matrix</h4>
                                            <img src="visualizations/overview/matrix_property_process.png" class="img-fluid" alt="Property × Process Matrix">
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="property-perspective" role="tabpanel">
                                        <div class="text-center">
                                            <h4>Property × Perspective Relationship Matrix</h4>
                                            <img src="visualizations/overview/matrix_property_perspective.png" class="img-fluid" alt="Property × Perspective Matrix">
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="process-perspective" role="tabpanel">
                                        <div class="text-center">
                                            <h4>Process × Perspective Relationship Matrix</h4>
                                            <img src="visualizations/overview/matrix_process_perspective.png" class="img-fluid" alt="Process × Perspective Matrix">
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="similarity" role="tabpanel">
                                        <div class="text-center">
                                            <h4>Domain Similarity Matrix</h4>
                                            <img src="visualizations/overview/domain_similarity.png" class="img-fluid" alt="Domain Similarity Matrix">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
            
                    <!-- Dashboard Tab -->
                    <div class="tab-pane fade" id="dashboard-container">
                        <div class="card mb-4">
                            <div class="card-header">
                                <h3>Interactive Dashboard</h3>
                                <p class="text-muted">Explore the framework data through interactive dashboards</p>
                            </div>
                            <div class="card-body">
                                <div class="dashboard-wrapper" style="height: 800px;">
                                    <div id="overview-section" class="dashboard-section">
                                        <h4>Framework Overview</h4>
                                        <div class="chart-container" id="overview-chart"></div>
                                    </div>
                                    <div id="details-section" class="dashboard-section">
                                        <h4>Detailed Metrics</h4>
                                        <div class="chart-container" id="details-chart"></div>
                                    </div>
                                    <div id="metrics-section" class="dashboard-section">
                                        <h4>Key Metrics</h4>
                                        <div class="chart-container" id="metrics-chart"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
            
                    <!-- Domains Tab -->
                    <div class="tab-pane fade" id="domains-all">
                        <div class="card mb-4">
                            <div class="card-header">
                                <h3>All Domains</h3>
                                <p class="text-muted">Comparative view of all domains in the framework</p>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="card mb-3">
                                            <div class="card-header">Domain Network</div>
                                            <div class="card-body text-center">
                                                <img src="visualizations/overview/domain_network.png" class="img-fluid" alt="Domain Network">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="card mb-3">
                                            <div class="card-header">Domain Similarity</div>
                                            <div class="card-body text-center">
                                                <img src="visualizations/overview/domain_similarity.png" class="img-fluid" alt="Domain Similarity">
                                            </div>
                                        </div>
                                    </div>
                                </div>
            
                            </div>
                        </div>
                    </div>
            
                    <!-- Domain: Immigration -->
                    <div class="tab-pane fade" id="domain-immigration">
                        <div class="card mb-4">
                            <div class="card-header">
                                <h3>Domain: Immigration</h3>
                                <p class="text-muted">Analysis of the Immigration domain</p>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="card mb-3">
                                            <div class="card-header">Pattern Distribution</div>
                                            <div class="card-body text-center">
                                                <img src="visualizations/domain/pattern_distribution.png" class="img-fluid" alt="Pattern Distribution">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="card mb-3">
                                            <div class="card-header">Domain Network</div>
                                            <div class="card-body text-center">
                                                <img src="visualizations/domain/domain_network.png" class="img-fluid" alt="Domain Network">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                
                </div>
                
                <footer class="bg-light text-center text-lg-start mt-4">
                    <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.05);">
                        Immigration Visualization Test - Generated on 2025-03-21 07:24:21
                    </div>
                </footer>
            </div>
            
            <!-- Bootstrap & JavaScript -->
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
            <script src="assets/js/portal.js"></script>
        
            <script>
            document.getElementById('dataset-selector').addEventListener('change', function() {
                const selectedDataset = this.value;
                console.log('Selected dataset:', selectedDataset);
                loadDataset(selectedDataset);
            });
            
            function loadDataset(datasetId) {
                console.log(`Loading dataset: ${datasetId}`);
                
                // Simulate loading dataset
                const loadingIndicator = document.createElement('div');
                loadingIndicator.id = 'loading-indicator';
                loadingIndicator.className = 'alert alert-info';
                loadingIndicator.textContent = 'Loading dataset...';
                document.querySelector('.container-fluid').insertBefore(loadingIndicator, document.querySelector('.tab-content'));
                
                // In a real implementation, this would load data for the selected dataset
                setTimeout(() => {
                    document.getElementById('loading-indicator').remove();
                    updateCharts(datasetId);
                }, 1000);
            }
            
            function updateCharts(datasetId) {
                // Update charts with new data
                // This is just a placeholder - in a real application, 
                // this would update all charts with data from the selected dataset
                console.log(`Updating charts with data from dataset ${datasetId}`);
            }
            
            function showComponent(componentId) {
                // Hide all component containers
                document.querySelectorAll('.component-container').forEach(container => {
                    container.style.display = 'none';
                });
                
                // Show the selected component
                const selectedContainer = document.getElementById(componentId + '-container');
                if (selectedContainer) {
                    selectedContainer.style.display = 'block';
                }
            }
            
            // Set up event listeners for component buttons
            document.addEventListener('DOMContentLoaded', function() {
                document.querySelectorAll('.component-btn').forEach(button => {
                    button.addEventListener('click', function() {
                        const componentId = this.getAttribute('data-component');
                        showComponent(componentId);
                    });
                });
            });
            </script>
            
        </body>
        </html>
        